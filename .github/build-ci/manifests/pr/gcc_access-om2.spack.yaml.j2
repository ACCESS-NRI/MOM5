spack:
  specs:
  - 'access-om2@latest'
  packages:
    mom5:
      require:
      - '@git.{{ ref }}=access-om2'
    cice5:
      require:
      - '@{{ cice5_version }}'
      - 'io_type=PIO build_system=cmake'
      - 'nxglob=360 nyglob=300 blckx=15 blcky=300 mxblcks=1' # grid size and block size
    libaccessom2:
      require:
      - '@{{ libaccessom2_version }}'
    oasis3-mct:
      require:
      - '@{{ oasis3_mct_version }}'
    access-fms:
      require:
      - '@{{ access_fms_version }}'
    access-generic-tracers:
      require:
      - '@{{ access_generic_tracers_version }}'
    access-mocsy:
      require:
      - '@{{ access_mocsy_version }}'
    netcdf-c:
      require:
      - '@{{ netcdf_c_version}}'
    netcdf-fortran:
      require:
      - '@{{ netcdf_fortran_version }}'
    parallelio:
      require:
      - '@{{ parallelio_version }}'
    openmpi:
      require:
      - '@{{ openmpi_version }}'
    all:
      require:
      - '%{{ gcc_compiler }} target=x86_64'
  concretizer:
    unify: false
  view: false
